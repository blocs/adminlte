<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.9/jquery.jqplot.min.css" integrity="sha512-x1sYGOeCnohzDAuU02Ecjrjcyiy3iYTGGQjuiFenhGpoQsEtK2V+/ELYnOGFjFY7LDx609Ndm6O01CzRBkZsxA==" crossorigin="anonymous" />
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.9/jquery.jqplot.min.js" integrity="sha512-FQKKXM+/7s6LVHU07eH2zShZHunHqkBCIcDqodXfdV/NNXW165npscG8qOHdxVsOM4mJx38Ep1oMBcNXGB3BCw==" crossorigin="anonymous"></script>

<!-- data-bloc='jqplot_pie_chart' -->
<!-- data-assign=$graphId data-val='graph_' data-convert='uniqid' -->

<script type="text/javascript">
Promise.all([
  (async () => {await import('https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.9/plugins/jqplot.pieRenderer.js')})()
]).then(values => {
  <!-- data-assign=$graphJson data-val=$graphJson data-convert='addslashes' -->
  var json_data = $.parseJSON('<!-- data-val=$graphJson data-convert='raw' -->');

  var option = {
    series:[
      { renderer:$.jqplot.PieRenderer, rendererOptions: {
        padding: 15,
        dataLabels: 'percent',
        showDataLabels: true
      } }
    ],
    legend:{
      show: true,
      location: 'e'
    }
  };

  var jqplot;
  function refreshPlot(){
    if(jqplot){ jqplot.destroy(); }
    jqplot = $.jqplot('<!-- data-val=$graphId -->', json_data, option);
<!-- data-exist=$graphClickFunction -->
    jqplot.eventListenerHooks.hooks.push(['jqplotClick', <!-- data-val=$graphClickFunction -->]);
    jqplot.replot();
<!-- data-endexist -->
  }

  refreshPlot();
  $(window).bind('load', function(e){ refreshPlot(); });
  $(window).bind('resize', function(e){ refreshPlot(); });

});
</script>
<!-- data-endbloc -->

<!-- data-bloc='jqplot_1bar_1line' -->
<!-- data-assign=$graphId data-val='graph_' data-convert='uniqid' -->

<script type="text/javascript">
Promise.all([
  (async () => {await import('https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.9/plugins/jqplot.categoryAxisRenderer.js')})(),
  <!-- data-exist=$graphXaxisAngle -->
  (async () => {await import('https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.9/plugins/jqplot.canvasTextRenderer.js')})(),
  (async () => {await import('https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.9/plugins/jqplot.canvasAxisTickRenderer.js')})(),
  <!-- data-endexist -->
  (async () => {await import('https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.9/plugins/jqplot.barRenderer.js')})(),
  (async () => {await import('https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.9/plugins/jqplot.pointLabels.js')})()
]).then(values => {

  <!-- data-assign=$graphJson data-val=$graphJson data-convert='addslashes' -->
  var json_data = $.parseJSON('<!-- data-val=$graphJson data-convert='raw' -->');

  var option = {
    series:[
      { label:'<!-- data-val=$graphLegendBar1 -->', color:'#FFC300', renderer:$.jqplot.BarRenderer, rendererOptions: { barWidth: 20 } },
      { label:'<!-- data-val=$graphLegendLine1 -->', color:'#21B0FF', yaxis: 'y2axis', pointLabels: { show: true } }
    ],
    legend:{
      show: true,
      placement: 'insideGrid',
      location: 'ne'
    },
    grid:{
      gridLineColor: '#BFDBE5',
      background: '#F2FAFF',
      borderColor: '#798A9A'
    },
    axesDefaults:{
      tickOptions:{
        formatString: "%d",
        textColor: "#0051AD"
      }
    },
    axes:{
      xaxis: {
        renderer: $.jqplot.CategoryAxisRenderer
        <!-- data-exist=$graphXaxisAngle -->
        ,
            tickRenderer: $.jqplot.CanvasAxisTickRenderer,
        tickOptions:{
          angle: <!-- data-val=$graphXaxisAngle -->
        }
        <!-- data-endexist -->
      },
      yaxis: {
                ticks: @php
  echo(json_encode([0, intval($graphYaxisMax/5*1), intval($graphYaxisMax/5*2), intval($graphYaxisMax/5*3), intval($graphYaxisMax/5*4), intval($graphYaxisMax)]));
@endphp
      },
      y2axis: {
                ticks: @php
  echo(json_encode([0, intval($graphY2axisMax/5*1), intval($graphY2axisMax/5*2), intval($graphY2axisMax/5*3), intval($graphY2axisMax/5*4), intval($graphY2axisMax)]));
@endphp
      }
    }
  };

  var jqplot;
  function refreshPlot(){
    if(jqplot){ jqplot.destroy(); }
    jqplot = $.jqplot('<!-- data-val=$graphId -->', json_data, option);
<!-- data-exist=$graphClickFunction -->
    jqplot.eventListenerHooks.hooks.push(['jqplotClick', <!-- data-val=$graphClickFunction -->]);
    jqplot.replot();
<!-- data-endexist -->
  }

  refreshPlot();
  $(window).bind('load', function(e){ refreshPlot(); });
  $(window).bind('resize', function(e){ refreshPlot(); });

});
</script>
<!-- data-endbloc -->

<!-- data-bloc='jqplot_2bar_1line' -->
<!-- data-assign=$graphId data-val='graph_' data-convert='uniqid' -->
<script type="text/javascript">
Promise.all([
  (async () => {await import('https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.9/plugins/jqplot.categoryAxisRenderer.js')})(),
  (async () => {await import('https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.9/plugins/jqplot.canvasTextRenderer.js')})(),
  (async () => {await import('https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.9/plugins/jqplot.canvasAxisTickRenderer.js')})(),
  (async () => {await import('https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.9/plugins/jqplot.barRenderer.js')})(),
  (async () => {await import('https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.9/plugins/jqplot.pointLabels.js')})()
]).then(values => {
  <!-- data-assign=$graphJson data-val=$graphJson data-convert='addslashes' -->
  var json_data = $.parseJSON('<!-- data-val=$graphJson data-convert='raw' -->');

  var option = {
    series:[
      { label:'<!-- data-val=$graphLegendBar1 -->', color:'#FFC300', renderer:$.jqplot.BarRenderer, rendererOptions: { barWidth: 20 } },
      { label:'<!-- data-val=$graphLegendBar2 -->', color:'#77D300', renderer:$.jqplot.BarRenderer, rendererOptions: { barWidth: 20 } },
      { label:'<!-- data-val=$graphLegendLine1 -->', color:'#21B0FF', yaxis: 'y2axis', pointLabels: { show: true } }
    ],
    legend:{
      show: true,
      placement: 'insideGrid',
      location: 'ne'
    },
    grid:{
      gridLineColor: '#BFDBE5',
      background: '#F2FAFF',
      borderColor: '#798A9A'
    },
    axesDefaults:{
      tickOptions:{
        formatString: "%d",
        textColor: "#0051AD"
      }
    },
    axes:{
      xaxis: {
        renderer: $.jqplot.CategoryAxisRenderer
        <!-- data-exist=$graphXaxisAngle -->
        ,
            tickRenderer: $.jqplot.CanvasAxisTickRenderer,
        tickOptions:{
          angle: <!-- data-val=$graphXaxisAngle -->
        }
        <!-- data-endexist -->
      },
      yaxis: {
                ticks: @php
  echo(json_encode([0, intval($graphYaxisMax/5*1), intval($graphYaxisMax/5*2), intval($graphYaxisMax/5*3), intval($graphYaxisMax/5*4), intval($graphYaxisMax)]));
 @endphp
      },
      y2axis: {
                ticks: @php
  echo(json_encode([0, intval($graphY2axisMax/5*1), intval($graphY2axisMax/5*2), intval($graphY2axisMax/5*3), intval($graphY2axisMax/5*4), intval($graphY2axisMax)]));
@endphp
      }
    }
  };

  var jqplot;
  function refreshPlot(){
    if(jqplot){ jqplot.destroy(); }
    jqplot = $.jqplot('<!-- data-val=$graphId -->', json_data, option);
  <!-- data-exist=$graphClickFunction -->
    jqplot.eventListenerHooks.hooks.push(['jqplotClick', <!-- data-val=$graphClickFunction -->]);
    jqplot.replot();
  <!-- data-endexist -->
  }

  refreshPlot();
  $(window).bind('load', function(e){ refreshPlot(); });
  $(window).bind('resize', function(e){ refreshPlot(); });
});
</script>
<!-- data-endbloc -->

<!-- data-bloc='jqplot_1bar_2line' -->
<!-- data-assign=$graphId data-val='graph_' data-convert='uniqid' -->

<script type="text/javascript">
Promise.all([
  (async () => {await import('https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.9/plugins/jqplot.categoryAxisRenderer.js')})(),
  <!-- data-exist=$graphXaxisAngle -->
  (async () => {await import('https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.9/plugins/jqplot.canvasTextRenderer.js')})(),
  (async () => {await import('https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.9/plugins/jqplot.canvasAxisTickRenderer.js')})(),
  <!-- data-endexist -->
  (async () => {await import('https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.9/plugins/jqplot.barRenderer.js')})(),
  (async () => {await import('https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.9/plugins/jqplot.pointLabels.js')})()
]).then(values => {
  <!-- data-assign=$graphJson data-val=$graphJson data-convert='addslashes' -->
  var json_data = $.parseJSON('<!-- data-val=$graphJson data-convert='raw' -->');

  var option = {
    series:[
      { label:'<!-- data-val=$graphLegendBar1 -->', color:'#FFC300', renderer:$.jqplot.BarRenderer, rendererOptions: { barWidth: 20 } },
      { label:'<!-- data-val=$graphLegendLine1 -->', color:'#21B0FF', yaxis: 'y2axis', pointLabels: { show: true } },
      { label:'<!-- data-val=$graphLegendLine2 -->', color:'#77D300', yaxis: 'y2axis', pointLabels: { show: true } }
    ],
    legend:{
      show: true,
      placement: 'insideGrid',
      location: 'ne'
    },
    grid:{
      gridLineColor: '#BFDBE5',
      background: '#F2FAFF',
      borderColor: '#798A9A'
    },
    axesDefaults:{
      tickOptions:{
        formatString: "%d",
        textColor: "#0051AD"
      }
    },
    axes:{
      xaxis: {
        renderer: $.jqplot.CategoryAxisRenderer
        <!-- data-exist=$graphXaxisAngle -->
        ,
            tickRenderer: $.jqplot.CanvasAxisTickRenderer,
        tickOptions:{
          angle: <!-- data-val=$graphXaxisAngle -->
        }
        <!-- data-endexist -->
      },
      yaxis: {
                ticks: @php
  echo(json_encode([0, intval($graphYaxisMax/5*1), intval($graphYaxisMax/5*2), intval($graphYaxisMax/5*3), intval($graphYaxisMax/5*4), intval($graphYaxisMax)]));
@endphp
      },
      y2axis: {
                ticks: @php
  echo(json_encode([0, intval($graphY2axisMax/5*1), intval($graphY2axisMax/5*2), intval($graphY2axisMax/5*3), intval($graphY2axisMax/5*4), intval($graphY2axisMax)]));
@endphp
      }
    }
  };

  var jqplot;
  function refreshPlot(){
    if(jqplot){ jqplot.destroy(); }
    jqplot = $.jqplot('<!-- data-val=$graphId -->', json_data, option);
<!-- data-exist=$graphClickFunction -->
    jqplot.eventListenerHooks.hooks.push(['jqplotClick', <!-- data-val=$graphClickFunction -->]);
    jqplot.replot();
<!-- data-endexist -->
  }

  refreshPlot();
  $(window).bind('load', function(e){ refreshPlot(); });
  $(window).bind('resize', function(e){ refreshPlot(); });

});
</script>
<!-- data-endbloc -->

<!-- data-bloc='jqplot_2bar_2line' -->
<!-- data-assign=$graphId data-val='graph_' data-convert='uniqid' -->
<script type="text/javascript">
Promise.all([
  (async () => {await import('https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.9/plugins/jqplot.categoryAxisRenderer.min.js')})(),
  (async () => {await import('https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.9/plugins/jqplot.barRenderer.min.js')})(),
  (async () => {await import('https://cdnjs.cloudflare.com/ajax/libs/jqPlot/1.0.9/plugins/jqplot.pointLabels.min.js')})()
]).then(values => {
  var json_data = $.parseJSON('<!-- data-val=$graphJson data-convert='raw' -->');

  var option = {
    series:[
      { label:'<!-- data-val=$graphLegendBar1 -->', color:'#FFC300', renderer:$.jqplot.BarRenderer, rendererOptions: { barWidth: 20 } },
      { label:'<!-- data-val=$graphLegendBar2 -->', color:'#77D300', renderer:$.jqplot.BarRenderer, rendererOptions: { barWidth: 20 } },
      { label:'<!-- data-val=$graphLegendLine1 -->', color:'#21B0FF', yaxis: 'y2axis', pointLabels: { show: true } },
      { label:'<!-- data-val=$graphLegendLine2 -->', color:'#F09199', yaxis: 'y2axis', pointLabels: { show: true } }
    ],
    legend:{
      show: true,
      placement: 'insideGrid',
      location: 'ne'
    },
    grid:{
      gridLineColor: '#BFDBE5',
      background: '#F2FAFF',
      borderColor: '#798A9A'
    },
    axesDefaults:{
      tickOptions:{
        formatString: "%d",
        textColor: "#0051AD"
      }
    },
    axes:{
      xaxis: {
        renderer: $.jqplot.CategoryAxisRenderer
      },
      yaxis: {
                ticks: @php
  echo(json_encode([0, intval($graphYaxisMax/5*1), intval($graphYaxisMax/5*2), intval($graphYaxisMax/5*3), intval($graphYaxisMax/5*4), intval($graphYaxisMax)]));
@endphp
      },
      y2axis: {
                ticks: @php
  echo(json_encode([0, intval($graphY2axisMax/5*1), intval($graphY2axisMax/5*2), intval($graphY2axisMax/5*3), intval($graphY2axisMax/5*4), intval($graphY2axisMax)]));
@endphp
      }
    }
  };

  var jqplot;
  function refreshPlot(){
    if(jqplot){ jqplot.destroy(); }
    jqplot = $.jqplot('<!-- data-val=$graphId -->', json_data, option);
<!-- data-exist=$graphClickFunction -->
    jqplot.eventListenerHooks.hooks.push(['jqplotClick', <!-- data-val=$graphClickFunction -->]);
    jqplot.replot();
<!-- data-endexist -->
  }

  refreshPlot();
  $(window).bind('load', function(e){ refreshPlot(); });
  $(window).bind('resize', function(e){ refreshPlot(); });

});
</script>
<!-- data-endbloc -->
